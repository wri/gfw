/*wax - 6.0.4 - 1.0.4-572-g5e88957 - touched!*/
!function(a,c,b){if(typeof module!=="undefined"){module.exports=b(a,c)}else{if(typeof define==="function"&&typeof define.amd==="object"){define(b)}else{c[a]=b(a,c)}}}("bean",this,function(q,S){var J=window,L=S[q],I=/over|out/,y=/[^\.]*(?=\..*)\.|.*/,G=/\..*/,p="addEventListener",h="attachEvent",a="removeEventListener",s="detachEvent",k=document||{},z=k.documentElement||{},v=z[p],A=v?p:h,t=Array.prototype.slice,c=/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,N=/mouse.*(wheel|scroll)/i,H=/^text/i,K=/^touch|^gesture/i,E={one:1},Q=(function(V,U,T){for(T=0;T<U.length;T++){V[U[T]]=1}return V})({},("click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange error abort scroll "+(v?"show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend message readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ":"")).split(" ")),D=(function(){function U(V,W){while((W=W.parentNode)!==null){if(W===V){return true}}return false}function T(V){var W=V.relatedTarget;if(!W){return W===null}return(W!==this&&W.prefix!=="xul"&&!/document/.test(this.toString())&&!U(this,W))}return{mouseenter:{base:"mouseover",condition:T},mouseleave:{base:"mouseout",condition:T},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}})(),R=(function(){var ac="altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which".split(" "),Z=ac.concat("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" ")),T=Z.concat("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis".split(" ")),W=ac.concat("char charCode key keyCode keyIdentifier keyLocation".split(" ")),V=ac.concat(["data"]),ab=ac.concat("touches targetTouches changedTouches scale rotation".split(" ")),Y="preventDefault",ae=function(af){return function(){if(af[Y]){af[Y]()}else{af.returnValue=false}}},aa="stopPropagation",ad=function(af){return function(){if(af[aa]){af[aa]()}else{af.cancelBubble=true}}},X=function(af){return function(){af[Y]();af[aa]();af.stopped=true}},U=function(ai,af,ah){var ag,aj;for(ag=ah.length;ag--;){aj=ah[ag];if(!(aj in af)&&aj in ai){af[aj]=ai[aj]}}};return function(aj,ag){var af={originalEvent:aj,isNative:ag};if(!aj){return af}var ai,ah=aj.type,ak=aj.target||aj.srcElement;af[Y]=ae(aj);af[aa]=ad(aj);af.stop=X(af);af.target=ak&&ak.nodeType===3?ak.parentNode:ak;if(ag){if(ah.indexOf("key")!==-1){ai=W;af.keyCode=aj.which||aj.keyCode}else{if(c.test(ah)){ai=Z;af.rightClick=aj.which===3||aj.button===2;af.pos={x:0,y:0};if(aj.pageX||aj.pageY){af.clientX=aj.pageX;af.clientY=aj.pageY}else{if(aj.clientX||aj.clientY){af.clientX=aj.clientX+k.body.scrollLeft+z.scrollLeft;af.clientY=aj.clientY+k.body.scrollTop+z.scrollTop}}if(I.test(ah)){af.relatedTarget=aj.relatedTarget||aj[(ah==="mouseover"?"from":"to")+"Element"]}}else{if(K.test(ah)){ai=ab}else{if(N.test(ah)){ai=T}else{if(H.test(ah)){ai=V}}}}}U(aj,af,ai||ac)}return af}})(),d=function(U,T){return !v&&!T&&(U===k||U===J)?z:U},o=(function(){function T(V,X,W,U,Y){this.element=V;this.type=X;this.handler=W;this.original=U;this.namespaces=Y;this.custom=D[X];this.isNative=Q[X]&&V[A];this.eventType=v||this.isNative?X:"propertychange";this.customType=!v&&!this.isNative&&X;this.target=d(V,this.isNative);this.eventSupport=this.target[A]}T.prototype={inNamespaces:function(W){var V,U;if(!W){return true}if(!this.namespaces){return false}for(V=W.length;V--;){for(U=this.namespaces.length;U--;){if(W[V]===this.namespaces[U]){return true}}}return false},matches:function(V,U,W){return this.element===V&&(!U||this.original===U)&&(!W||this.handler===W)}};return T})(),P=(function(){var Y={},X=function(ac,af,aa,ai,ag){if(!af||af==="*"){for(var aj in Y){if(aj.charAt(0)==="$"){X(ac,aj.substr(1),aa,ai,ag)}}}else{var ad=0,ab,ae=Y["$"+af],ah=ac==="*";if(!ae){return}for(ab=ae.length;ad<ab;ad++){if(ah||ae[ad].matches(ac,aa,ai)){if(!ag(ae[ad],ae,ad,af)){return}}}}},W=function(ac,ad,ab){var aa,ae=Y["$"+ad];if(ae){for(aa=ae.length;aa--;){if(ae[aa].matches(ac,ab,null)){return true}}}return false},V=function(ac,ad,ab){var aa=[];X(ac,ad,ab,null,function(ae){return aa.push(ae)});return aa},Z=function(aa){(Y["$"+aa.type]||(Y["$"+aa.type]=[])).push(aa);return aa},U=function(aa){X(aa.element,aa.type,null,aa.handler,function(ac,ad,ab){ad.splice(ab,1);if(ad.length===0){delete Y["$"+ac.type]}return false})},T=function(){var ab,aa=[];for(ab in Y){if(ab.charAt(0)==="$"){aa=aa.concat(Y[ab])}}return aa};return{has:W,get:V,put:Z,del:U,entries:T}})(),M=v?function(T,V,U,W){T[W?p:a](V,U,false)}:function(T,V,U,X,W){if(W&&X&&T["_on"+W]===null){T["_on"+W]=0}T[X?h:s]("on"+V,U)},C=function(U,V,T){return function(W){W=R(W||((this.ownerDocument||this.document||this).parentWindow||J).event,true);return V.apply(U,[W].concat(T))}},f=function(V,X,W,Y,U,T){return function(Z){if(Y?Y.apply(this,arguments):v?true:Z&&Z.propertyName==="_on"+W||!Z){if(Z){Z=R(Z||((this.ownerDocument||this.document||this).parentWindow||J).event,T)}X.apply(V,Z&&(!U||U.length===0)?arguments:t.call(arguments,Z?0:1).concat(U))}}},x=function(X,T,V,U,W){return function(){X(T,V,W);U.apply(this,arguments)}},b=function(X,V,ab,T){var Y,W,aa,Z=(V&&V.replace(G,"")),U=P.get(X,Z,ab);for(Y=0,W=U.length;Y<W;Y++){if(U[Y].inNamespaces(T)){if((aa=U[Y]).eventSupport){M(aa.target,aa.eventType,aa.handler,false,aa.type)}P.del(aa)}}},j=function(U,aa,W,Z,T){var X,V=aa.replace(G,""),Y=aa.replace(y,"").split(".");if(P.has(U,V,W)){return U}if(V==="unload"){W=x(b,U,V,W,Z)}if(D[V]){if(D[V].condition){W=f(U,W,V,D[V].condition,true)}V=D[V].base||V}X=P.put(new o(U,V,W,Z,Y[0]&&Y));X.handler=X.isNative?C(U,X.handler,T):f(U,X.handler,V,false,T,false);if(X.eventSupport){M(X.target,X.eventType,X.handler,true,X.customType)}},r=function(T,U,V){return function(Y){var X,W,Z=typeof T==="string"?V(T,this):T;for(X=Y.target;X&&X!==this;X=X.parentNode){for(W=Z.length;W--;){if(Z[W]===X){return U.apply(X,arguments)}}}}},B=function(X,aa,ac){var W,V,ab,U,Y,Z=b,T=aa&&typeof aa==="string";if(T&&aa.indexOf(" ")>0){aa=aa.split(" ");for(Y=aa.length;Y--;){B(X,aa[Y],ac)}return X}ab=T&&aa.replace(G,"");if(ab&&D[ab]){ab=D[ab].type}if(!aa||T){if(U=T&&aa.replace(y,"")){U=U.split(".")}Z(X,ab,ac,U)}else{if(typeof aa==="function"){Z(X,null,aa)}else{for(W in aa){if(aa.hasOwnProperty(W)){B(X,W,aa[W])}}}}return X},g=function(V,ad,ab,T,U){var Z,X,W,Y,aa=ab,ac=ab&&typeof ab==="string";if(ad&&!ab&&typeof ad==="object"){for(Z in ad){if(ad.hasOwnProperty(Z)){g.apply(this,[V,Z,ad[Z]])}}}else{Y=arguments.length>3?t.call(arguments,3):[];X=(ac?ab:ad).split(" ");ac&&(ab=r(ad,(aa=T),U))&&(Y=t.call(Y,1));this===E&&(ab=x(B,V,ad,ab,aa));for(W=X.length;W--;){j(V,X[W],ab,aa,Y)}}return V},n=function(){return g.apply(E,arguments)},O=v?function(U,W,V){var T=k.createEvent(U?"HTMLEvents":"UIEvents");T[U?"initEvent":"initUIEvent"](W,true,true,J,1);V.dispatchEvent(T)}:function(T,V,U){U=d(U,T);T?U.fireEvent("on"+V,k.createEventObject()):U["_on"+V]++},w=function(W,ab,Z){var X,V,U,aa,T,Y=ab.split(" ");for(X=Y.length;X--;){ab=Y[X].replace(G,"");if(aa=Y[X].replace(y,"")){aa=aa.split(".")}if(!aa&&!Z&&W[A]){O(Q[ab],ab,W)}else{T=P.get(W,ab);Z=[false].concat(Z);for(V=0,U=T.length;V<U;V++){if(T[V].inNamespaces(aa)){T[V].handler.apply(W,Z)}}}}return W},u=function(W,Y,X){var V=0,U=P.get(Y,X),T=U.length;for(;V<T;V++){U[V].original&&g(W,U[V].type,U[V].original)}return W},F={add:g,one:n,remove:B,clone:u,fire:w,noConflict:function(){S[q]=L;return this}};if(J[h]){var e=function(){var U,T=P.entries();for(U in T){if(T[U].type&&T[U].type!=="unload"){B(T[U].element,T[U].type)}}J[s]("onunload",e);J.CollectGarbage&&J.CollectGarbage()};J[h]("onunload",e)}return F});var html4={};html4.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10};html4.ATTRIBS={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};html4.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128};html4.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,nobr:0,noembed:4,noframes:20,noscript:20,object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:84,select:0,small:0,span:0,strike:0,strong:0,style:148,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0};html4.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2};html4.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"body::background":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0};html4.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0};html4.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"body::background":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2};var html=(function(n){var b;if("script"==="SCRIPT".toLowerCase()){b=function(D){return D.toLowerCase()}}else{b=function(D){return D.replace(/[A-Z]/g,function(E){return String.fromCharCode(E.charCodeAt(0)|32)})}}var t={lt:"<",gt:">",amp:"&",nbsp:"\240",quot:'"',apos:"'"};var r=/^(?:https?|mailto|data)$/i;var p=/^#(\d+)$/;var z=/^#x([0-9A-Fa-f]+)$/;function j(E){E=b(E);if(t.hasOwnProperty(E)){return t[E]}var D=E.match(p);if(D){return String.fromCharCode(parseInt(D[1],10))}else{if(!!(D=E.match(z))){return String.fromCharCode(parseInt(D[1],16))}}return""}function c(E,D){return j(D)}var w=/\0/g;function o(D){return D.replace(w,"")}var x=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g;function e(D){return D.replace(x,c)}var v=/&/g;var C=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi;var a=/</g;var f=/>/g;var q=/\"/g;var h=/\=/g;function g(D){return D.replace(v,"&amp;").replace(a,"&lt;").replace(f,"&gt;").replace(q,"&#34;").replace(h,"&#61;")}function k(D){return D.replace(C,"&amp;$1").replace(a,"&lt;").replace(f,"&gt;")}var A=new RegExp("^\\s*(?:"+("(?:([a-z][a-z-]*)"+("(\\s*=\\s*"+("(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*)")+")")+"?)")+"|(/?>)|[\\s\\S][^a-z\\s>]*)","i");var B=new RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<!--[\\s\\S]*?-->|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i");function s(D){return function E(P,N){P=String(P);var Q=null;var I=false;var G=[];var J=void 0;var K=void 0;var H=void 0;if(D.startDoc){D.startDoc(N)}while(P){var M=P.match(I?A:B);P=P.substring(M[0].length);if(I){if(M[1]){var L=b(M[1]);var S;if(M[2]){var O=M[3];switch(O.charCodeAt(0)){case 34:case 39:O=O.substring(1,O.length-1);break}S=e(o(O))}else{S=L}G.push(L,S)}else{if(M[4]){if(K!==void 0){if(H){if(D.startTag){D.startTag(J,G,N)}}else{if(D.endTag){D.endTag(J,N)}}}if(H&&(K&(n.eflags.CDATA|n.eflags.RCDATA))){if(Q===null){Q=b(P)}else{Q=Q.substring(Q.length-P.length)}var R=Q.indexOf("</"+J);if(R<0){R=P.length}if(R){if(K&n.eflags.CDATA){if(D.cdata){D.cdata(P.substring(0,R),N)}}else{if(D.rcdata){D.rcdata(k(P.substring(0,R)),N)}}P=P.substring(R)}}J=K=H=void 0;G.length=0;I=false}}}else{if(M[1]){if(D.pcdata){D.pcdata(M[0],N)}}else{if(M[3]){H=!M[2];I=true;J=b(M[3]);K=n.ELEMENTS.hasOwnProperty(J)?n.ELEMENTS[J]:void 0}else{if(M[4]){if(D.pcdata){D.pcdata(M[4],N)}}else{if(M[5]){if(D.pcdata){var F=M[5];D.pcdata(F==="<"?"&lt;":F===">"?"&gt;":"&amp;",N)}}}}}}}if(D.endDoc){D.endDoc(N)}}}function y(E){var D;var F;return s({startDoc:function(G){D=[];F=false},startTag:function(J,M,H){if(F){return}if(!n.ELEMENTS.hasOwnProperty(J)){return}var G=n.ELEMENTS[J];if(G&n.eflags.FOLDABLE){return}else{if(G&n.eflags.UNSAFE){F=!(G&n.eflags.EMPTY);return}}M=E(J,M);if(M){if(!(G&n.eflags.EMPTY)){D.push(J)}H.push("<",J);for(var I=0,N=M.length;I<N;I+=2){var K=M[I],L=M[I+1];if(L!==null&&L!==void 0){H.push(" ",K,'="',g(L),'"')}}H.push(">")}},endTag:function(K,I){if(F){F=false;return}if(!n.ELEMENTS.hasOwnProperty(K)){return}var G=n.ELEMENTS[K];if(!(G&(n.eflags.UNSAFE|n.eflags.EMPTY|n.eflags.FOLDABLE))){var H;if(G&n.eflags.OPTIONAL_ENDTAG){for(H=D.length;--H>=0;){var L=D[H];if(L===K){break}if(!(n.ELEMENTS[L]&n.eflags.OPTIONAL_ENDTAG)){return}}}else{for(H=D.length;--H>=0;){if(D[H]===K){break}}}if(H<0){return}for(var J=D.length;--J>H;){var L=D[J];if(!(n.ELEMENTS[L]&n.eflags.OPTIONAL_ENDTAG)){I.push("</",L,">")}}D.length=H;I.push("</",K,">")}},pcdata:function(H,G){if(!F){G.push(H)}},rcdata:function(H,G){if(!F){G.push(H)}},cdata:function(H,G){if(!F){G.push(H)}},endDoc:function(G){for(var H=D.length;--H>=0;){G.push("</",D[H],">")}D.length=0}})}var u=new RegExp("^(?:([^:/?#]+):)?");function d(H,F,G){var D=[];y(function E(L,P){for(var K=0;K<P.length;K+=2){var M=P[K];var N=P[K+1];var J=null,I;if((I=L+"::"+M,n.ATTRIBS.hasOwnProperty(I))||(I="*::"+M,n.ATTRIBS.hasOwnProperty(I))){J=n.ATTRIBS[I]}if(J!==null){switch(J){case n.atype.NONE:break;case n.atype.SCRIPT:case n.atype.STYLE:N=null;break;case n.atype.ID:case n.atype.IDREF:case n.atype.IDREFS:case n.atype.GLOBAL_NAME:case n.atype.LOCAL_NAME:case n.atype.CLASSES:N=G?G(N):N;break;case n.atype.URI:var O=(""+N).match(u);if(!O){N=null}else{if(!O[1]||r.test(O[1])){N=F&&F(N)}else{N=null}}break;case n.atype.URI_FRAGMENT:if(N&&"#"===N.charAt(0)){N=G?G(N):N;if(N){N="#"+N}}else{N=null}break;default:N=null;break}}else{N=null}P[K+1]=N}return P})(H,D);return D.join("")}return{escapeAttrib:g,makeHtmlSanitizer:y,makeSaxParser:s,normalizeRCData:k,sanitize:d,unescapeEntities:e}})(html4);var html_sanitize=html.sanitize;if(typeof window!=="undefined"){window.html=html;window.html_sanitize=html_sanitize}html4.ATTRIBS["*::style"]=0;html4.ATTRIBS["a::target"]=0;html4.ELEMENTS.style=0;var Mustache=function(){var a={};var b=function(){};b.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(f,e,d,g){if(!g){this.context=e;this.buffer=[]}if(!this.includes("",f)){if(g){return f}else{this.send(f);return}}f=this.render_pragmas(f);var c=this.render_section(f,e,d);if(c===false){c=this.render_tags(f,e,d,g)}if(g){return c}else{this.sendLines(c)}},send:function(c){if(c!==""){this.buffer.push(c)}},sendLines:function(e){if(e){var c=e.split("\n");for(var d=0;d<c.length;d++){this.send(c[d])}}},render_pragmas:function(c){if(!this.includes("%",c)){return c}var e=this;var d=this.getCachedRegex("render_pragmas",function(g,f){return new RegExp(g+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+f,"g")});return c.replace(d,function(h,f,g){if(!e.pragmas_implemented[f]){throw ({message:"This implementation of mustache doesn't understand the '"+f+"' pragma"})}e.pragmas[f]={};if(g){var j=g.split("=");e.pragmas[f][j[0]]=j[1]}return""})},render_partial:function(c,e,d){c=this.trim(c);if(!d||d[c]===undefined){throw ({message:"unknown_partial '"+c+"'"})}if(typeof(e[c])!="object"){return this.render(d[c],e,d,true)}return this.render(d[c],e[c],d,true)},render_section:function(e,d,c){if(!this.includes("#",e)&&!this.includes("^",e)){return false}var g=this;var f=this.getCachedRegex("render_section",function(j,h){return new RegExp("^([\\s\\S]*?)"+j+"(\\^|\\#)\\s*(.+)\\s*"+h+"\n*([\\s\\S]*?)"+j+"\\/\\s*\\3\\s*"+h+"\\s*([\\s\\S]*)$","g")});return e.replace(f,function(n,r,q,k,o,j){var t=r?g.render_tags(r,d,c,true):"",p=j?g.render(j,d,c,true):"",h,s=g.find(k,d);if(q==="^"){if(!s||g.is_array(s)&&s.length===0){h=g.render(o,d,c,true)}else{h=""}}else{if(q==="#"){if(g.is_array(s)){h=g.map(s,function(u){return g.render(o,g.create_context(u),c,true)}).join("")}else{if(g.is_object(s)){h=g.render(o,g.create_context(s),c,true)}else{if(typeof s==="function"){h=s.call(d,o,function(u){return g.render(u,d,c,true)})}else{if(s){h=g.render(o,d,c,true)}else{h=""}}}}}}return t+h+p})},render_tags:function(n,c,e,g){var f=this;var k=function(){return f.getCachedRegex("render_tags",function(q,p){return new RegExp(q+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+p+"+","g")})};var h=k();var j=function(r,p,q){switch(p){case"!":return"";case"=":f.set_delimiters(q);h=k();return"";case">":return f.render_partial(q,c,e);case"{":return f.find(q,c);default:return f.escape(f.find(q,c))}};var o=n.split("\n");for(var d=0;d<o.length;d++){o[d]=o[d].replace(h,j,this);if(!g){this.send(o[d])}}if(g){return o.join("\n")}},set_delimiters:function(d){var c=d.split(" ");this.otag=this.escape_regex(c[0]);this.ctag=this.escape_regex(c[1])},escape_regex:function(d){if(!arguments.callee.sRE){var c=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+c.join("|\\")+")","g")}return d.replace(arguments.callee.sRE,"\\$1")},find:function(d,e){d=this.trim(d);function c(g){return g===false||g===0||g}var f;if(c(e[d])){f=e[d]}else{if(c(this.context[d])){f=this.context[d]}}if(typeof f==="function"){return f.apply(e)}if(f!==undefined){return f}return""},includes:function(d,c){return c.indexOf(this.otag+d)!=-1},escape:function(c){c=String(c===null?"":c);return c.replace(/&(?!\w+;)|["'<>\\]/g,function(d){switch(d){case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return d}})},create_context:function(d){if(this.is_object(d)){return d}else{var e=".";if(this.pragmas["IMPLICIT-ITERATOR"]){e=this.pragmas["IMPLICIT-ITERATOR"].iterator}var c={};c[e]=d;return c}},is_object:function(c){return c&&typeof c=="object"},is_array:function(c){return Object.prototype.toString.call(c)==="[object Array]"},trim:function(c){return c.replace(/^\s*|\s*$/g,"")},map:function(g,e){if(typeof g.map=="function"){return g.map(e)}else{var f=[];var c=g.length;for(var d=0;d<c;d++){f.push(e(g[d]))}return f}},getCachedRegex:function(d,g){var f=a[this.otag];if(!f){f=a[this.otag]={}}var c=f[this.ctag];if(!c){c=f[this.ctag]={}}var e=c[d];if(!e){e=c[d]=g(this.otag,this.ctag)}return e}};return({name:"mustache.js",version:"0.4.0-dev",to_html:function(e,c,d,g){var f=new b();if(g){f.send=g}f.render(e,c||{},d);if(!g){return f.buffer.join("\n")}}})}();
!function(context,win){function serial(a){var b=a.name;if(a.disabled||!b){return""}b=enc(b);switch(a.tagName.toLowerCase()){case"input":switch(a.type){case"reset":case"button":case"image":case"file":return"";case"checkbox":case"radio":return a.checked?b+"="+(a.value?enc(a.value):!0)+"&":"";default:return b+"="+(a.value?enc(a.value):"")+"&"}break;case"textarea":return b+"="+enc(a.value)+"&";case"select":return b+"="+enc(a.options[a.selectedIndex].value)+"&"}return""}function enc(a){return encodeURIComponent(a)}function reqwest(a,b){return new Reqwest(a,b)}function init(o,fn){function error(a){o.error&&o.error(a),complete(a)}function success(resp){o.timeout&&clearTimeout(self.timeout)&&(self.timeout=null);var r=resp.responseText;if(r){switch(type){case"json":resp=win.JSON?win.JSON.parse(r):eval("("+r+")");break;case"js":resp=eval(r);break;case"html":resp=r}}fn(resp),o.success&&o.success(resp),complete(resp)}function complete(a){o.complete&&o.complete(a)}this.url=typeof o=="string"?o:o.url,this.timeout=null;var type=o.type||setType(this.url),self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort(),error()},o.timeout)),this.request=getRequest(o,success,error)}function setType(a){if(/\.json$/.test(a)){return"json"}if(/\.jsonp$/.test(a)){return"jsonp"}if(/\.js$/.test(a)){return"js"}if(/\.html?$/.test(a)){return"html"}if(/\.xml$/.test(a)){return"xml"}return"js"}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function getRequest(a,b,c){if(a.type!="jsonp"){var f=xhr();f.open(a.method||"GET",typeof a=="string"?a:a.url,!0),setHeaders(f,a),f.onreadystatechange=handleReadyState(f,b,c),a.before&&a.before(f),f.send(a.data||null);return f}var d=doc.createElement("script"),e=0;win[getCallbackName(a)]=generalCallback,d.type="text/javascript",d.src=a.url,d.async=!0,d.onload=d.onreadystatechange=function(){if(d[readyState]&&d[readyState]!=="complete"&&d[readyState]!=="loaded"||e){return !1}d.onload=d.onreadystatechange=null,a.success&&a.success(lastValue),lastValue=undefined,head.removeChild(d),e=1},head.appendChild(d)}function generalCallback(a){lastValue=a}function getCallbackName(a){var b=a.jsonpCallback||"callback";if(a.url.slice(-(b.length+2))==b+"=?"){var c="reqwest_"+uniqid++;a.url=a.url.substr(0,a.url.length-1)+c;return c}var d=new RegExp(b+"=([\\w]+)");return a.url.match(d)[1]}function setHeaders(a,b){var c=b.headers||{};c.Accept=c.Accept||"text/javascript, text/html, application/xml, text/xml, */*",b.crossOrigin||(c["X-Requested-With"]=c["X-Requested-With"]||"XMLHttpRequest"),c[contentType]=c[contentType]||"application/x-www-form-urlencoded";for(var d in c){c.hasOwnProperty(d)&&a.setRequestHeader(d,c[d],!1)}}function handleReadyState(a,b,c){return function(){a&&a[readyState]==4&&(twoHundo.test(a.status)?b(a):c(a))}}var twoHundo=/^20\d$/,doc=document,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",head=doc[byTag]("head")[0],uniqid=0,lastValue,xhr="XMLHttpRequest" in win?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")};Reqwest.prototype={abort:function(){this.request.abort()},retry:function(){init.call(this,this.o,this.fn)}},reqwest.serialize=function(a){var b=[a[byTag]("input"),a[byTag]("select"),a[byTag]("textarea")],c=[],d,e;for(d=0,l=b.length;d<l;++d){for(e=0,l2=b[d].length;e<l2;++e){c.push(serial(b[d][e]))}}return c.join("").replace(/&$/,"")},reqwest.serializeArray=function(a){for(var b=this.serialize(a).split("&"),c=0,d=b.length,e=[],f;c<d;c++){b[c]&&(f=b[c].split("="))&&e.push({name:f[0],value:f[1]})}return e};var old=context.reqwest;reqwest.noConflict=function(){context.reqwest=old;return this},typeof module!="undefined"?module.exports=reqwest:context.reqwest=reqwest}(this,window);wax=wax||{};wax.attribution=function(){var c,b={};function d(a){if(/^(https?:\/\/|data:image)/.test(a)){return a}}function e(a){return a}b.content=function(a){if(typeof a==="undefined"){return c.innerHTML}c.innerHTML=html_sanitize(a,d,e);return this};b.element=function(){return c};b.init=function(){c=document.createElement("div");c.className="wax-attribution";return this};return b.init()};wax=wax||{};wax.bwdetect=function(b,h){var e={},a=b.threshold||400,d="http://a.tiles.mapbox.com/mapbox/1.0.0/blue-marble-topo-bathy-jul/0/0/0.png?preventcache="+(+new Date()),g=1,f=b.auto===undefined?true:b.auto;function c(){wax.bw=-1;var j=new Image();j.src=d;var n=true;var k=setTimeout(function(){if(n&&wax.bw==-1){e.bw(0);n=false}},a);j.onload=function(){if(n&&wax.bw==-1){clearTimeout(k);e.bw(1);n=false}}}e.bw=function(j){if(!arguments.length){return g}var k=g;if(wax.bwlisteners&&wax.bwlisteners.length){(function(){listeners=wax.bwlisteners;wax.bwlisteners=[];for(i=0;i<listeners;i++){listeners[i](j)}})()}wax.bw=j;if(g!=(g=j)){h(j)}};e.add=function(){if(f){c()}return this};if(wax.bw==-1){wax.bwlisteners=wax.bwlisteners||[];wax.bwlisteners.push(e.bw)}else{if(wax.bw!==undefined){e.bw(wax.bw)}else{e.add()}}return e};wax.formatter=function(x){var formatter={},f;if(x&&typeof x==="string"){try{eval("f = "+x)}catch(e){if(console){console.log(e)}}}else{if(x&&typeof x==="function"){f=x}else{f=function(){}}}function urlX(url){if(/^(https?:\/\/|data:image)/.test(url)){return url}}function idX(id){return id}formatter.format=function(options,data){try{return html_sanitize(f(options,data),urlX,idX)}catch(e){if(console){console.log(e)}}};return formatter};wax.gi=function(b,d){d=d||{};var a={},c=d.resolution||4,f=d.tileSize||256;function e(g){if(g>=93){g--}if(g>=35){g--}g-=32;return g}a.grid_tile=function(){return b};a.getKey=function(g,h){if(!(b&&b.grid)){return}if((h<0)||(g<0)){return}if((Math.floor(h)>=f)||(Math.floor(g)>=f)){return}return e(b.grid[Math.floor((h)/c)].charCodeAt(Math.floor((g)/c)))};a.gridFeature=function(g,k){var h=this.getKey(g,k),j=b.keys;if(j&&j[h]&&b.data[j[h]]){return b.data[j[h]]}};a.tileFeature=function(h,k,g){if(!b){return}var j=wax.u.offset(g);feature=this.gridFeature(h-j.left,k-j.top);return feature};return a};wax.gm=function(){var c=4,f={},e={},g,d;var b=function(h){return h.replace(/(\.png|\.jpg|\.jpeg)(\d*)/,".grid.json")};function a(j){if(typeof j==="string"){j=[j]}return function h(n){if(!n){return}var o=new RegExp("/(\\d+)\\/(\\d+)\\/(\\d+)\\.[\\w\\._]+");var k=o.exec(n);if(!k){return}return j[parseInt(k[2],10)%j.length].replace(/\{z\}/g,k[1]).replace(/\{x\}/g,k[2]).replace(/\{y\}/g,k[3])}}e.formatter=function(h){if(!arguments.length){return d}d=wax.formatter(h);return e};e.template=function(h){if(!arguments.length){return d}d=wax.template(h);return e};e.gridUrl=function(h){if(!arguments.length){return b}b=typeof h==="function"?h:a(h);return e};e.getGrid=function(j,k){var h=b(j);if(!d||!h){return k(null,null)}wax.request.get(h,function(o,n){if(o){return k(o,null)}k(null,wax.gi(n,{formatter:d,resolution:c}))});return e};e.tilejson=function(h){if(!arguments.length){return g}if(h.template){e.template(h.template)}else{if(h.formatter){e.formatter(h.formatter)}}if(h.grids){e.gridUrl(h.grids)}if(h.resolution){c=h.resolution}g=h;return e};return e};wax=wax||{};wax.hash=function(k){k=k||{};function f(){return location.hash.substring(1)}function e(o){var n=window.location;n.replace(n.toString().replace(n.hash,"#"+o))}var h,d={},g=90-1e-8;function a(p){var n=p.split("/");for(var o=0;o<n.length;o++){n[o]=Number(n[o]);if(isNaN(n[o])){return true}}if(n.length<3){return true}else{if(n.length==3){k.setCenterZoom(n)}}}function b(){var n=k.getCenterZoom();if(h!==n){h=n;e(h)}}function c(n){if(n===h){return}if(a(h=n)){b()}}var j=wax.u.throttle(b,500);d.add=function(){c(f());k.bindChange(j);return this};d.remove=function(){k.unbindChange(j);return this};return d.add()};wax=wax||{};wax.interaction=function(){var r=wax.gm(),g={},b=false,c=false,e,p=4,a,s,w,k,v,u;var q={mousemove:h,touchstart:d,mousedown:d};var o={touchend:t,touchmove:t,touchcancel:f};function n(z){var y=a();if(z){for(var x=0;x<y.length;x++){if((y[x][0]<z.y)&&((y[x][0]+256)>z.y)&&(y[x][1]<z.x)&&((y[x][1]+256)>z.x)){return y[x][2]}}}return false}function j(){if(c){window.clearTimeout(c);c=null;return true}else{return false}}function h(x){if(b){return}var y=wax.u.eventoffset(x);g.screen_feature(y,function(z){if(z){bean.fire(g,"on",{parent:k(),data:z,formatter:r.formatter().format,e:x})}else{bean.fire(g,"off")}})}function d(x){if(j()){return}b=true;e=wax.u.eventoffset(x);if(x.type==="mousedown"){bean.add(document.body,"mouseup",t)}else{if(x.type==="touchstart"&&x.touches.length===1){bean.fire(g,"off");bean.add(k(),o)}}}function f(){bean.remove(k(),o);b=false}function t(z){var x={},A=wax.u.eventoffset(z);b=false;for(var y in z){x[y]=z[y]}bean.remove(document.body,"mouseup",t);bean.remove(k(),o);if(z.type==="touchend"){g.click(z,e)}else{if(Math.round(A.y/p)===Math.round(e.y/p)&&Math.round(A.x/p)===Math.round(e.x/p)){c=window.setTimeout(function(){c=null;g.click(x,A)},300)}}return t}g.click=function(x,y){g.screen_feature(y,function(z){if(z){bean.fire(g,"on",{parent:k(),data:z,formatter:r.formatter().format,e:x})}})};g.screen_feature=function(z,y){var x=n(z);if(!x){y(null)}r.getGrid(x.src,function(C,B){if(C||!B){return y(null)}var A=B.tileFeature(z.x,z.y,x);y(A)})};g.attach=function(y){if(!arguments.length){return s}s=y;return g};g.detach=function(y){if(!arguments.length){return w}w=y;return g};g.map=function(y){if(!arguments.length){return v}v=y;if(s){s(v)}bean.add(k(),q);bean.add(k(),"touchstart",d);return g};g.grid=function(y){if(!arguments.length){return a}a=y;return g};g.remove=function(y){if(w){w(v)}bean.remove(k(),q);bean.fire(g,"remove");return g};g.tilejson=function(y){if(!arguments.length){return r.tilejson()}r.tilejson(y);return g};g.formatter=function(){return r.formatter()};g.on=function(y,x){bean.add(g,y,x);return g};g.off=function(y,x){bean.remove(g,y,x);return g};g.gridmanager=function(y){if(!arguments.length){return r}r=y;return g};g.parent=function(y){k=y;return g};return g};var wax=wax||{};wax.legend=function(){var c,d={},a;function b(f){if(/^(https?:\/\/|data:image)/.test(f)){return f}}function e(f){return f}d.element=function(){return a};d.content=function(f){if(!arguments.length){return c.innerHTML}if(f){c.innerHTML=html_sanitize(f,b,e);c.style.display="block"}else{c.innerHTML="";c.style.display="none"}return d};d.add=function(){a=document.createElement("div");a.className="wax-legends";c=a.appendChild(document.createElement("div"));c.className="wax-legend";c.style.display="none";return d};return d.add()};var wax=wax||{};wax.movetip={};wax.movetip=function(){var d=false,k={},a,b,n,j;function g(p){var o=wax.u.eventoffset(p);if((a.height+o.y)>(b.top+b.height)&&(b.height>a.height)){o.y-=a.height;n.className+=" flip-y"}if((a.width+o.x)>(b.left+b.width)){o.x-=a.width;n.className+=" flip-x"}n.style.left=o.x+"px";n.style.top=o.y+"px"}function h(o){var p=document.createElement("div");p.className="wax-tooltip wax-tooltip-0";p.innerHTML=o;return p}function e(){if(n){n.parentNode.removeChild(n);n=null}}function f(t){var r;if(d){return}if((t.e.type==="mousemove"||!t.e.type)){r=t.formatter({format:"teaser"},t.data);if(!r){return}e();j.style.cursor="pointer";n=document.body.appendChild(h(r))}else{r=t.formatter({format:"teaser"},t.data);if(!r){return}e();var p=document.body.appendChild(h(r));p.className+=" wax-popup";var s=p.appendChild(document.createElement("a"));s.href="#close";s.className="close";s.innerHTML="Close";d=true;n=p;a=wax.u.offset(n);b=wax.u.offset(j);g(t.e);bean.add(s,"click touchend",function q(o){o.stop();e();d=false})}if(n){a=wax.u.offset(n);b=wax.u.offset(j);g(t.e)}}function c(){j.style.cursor="default";if(!d){e()}}k.parent=function(o){if(!arguments.length){return j}j=o;return k};k.events=function(){return{on:f,off:c}};return k};var wax=wax||{};wax.request={cache:{},locks:{},promises:{},get:function(a,c){if(this.cache[a]){return c(this.cache[a][0],this.cache[a][1])}else{this.promises[a]=this.promises[a]||[];this.promises[a].push(c);if(this.locks[a]){return}var b=this;this.locks[a]=true;reqwest({url:a+(~a.indexOf("?")?"&":"?")+"callback=grid",type:"jsonp",jsonpCallback:"callback",success:function(e){b.locks[a]=false;b.cache[a]=[null,e];for(var d=0;d<b.promises[a].length;d++){b.promises[a][d](b.cache[a][0],b.cache[a][1])}},error:function(e){b.locks[a]=false;b.cache[a]=[e,null];for(var d=0;d<b.promises[a].length;d++){b.promises[a][d](b.cache[a][0],b.cache[a][1])}}})}}};wax.template=function(a){var c={};function b(e){if(/^(https?:\/\/|data:image)/.test(e)){return e}}function d(e){return e}c.format=function(e,g){var h={};for(var f in g){h[f]=g[f]}if(e.format){h["__"+e.format+"__"]=true}return html_sanitize(Mustache.to_html(a,h),b,d)};return c};if(!wax){var wax={}}wax.tilejson=function(a,b){reqwest({url:a+(~a.indexOf("?")?"&":"?")+"callback=grid",type:"jsonp",jsonpCallback:"callback",success:b,error:b})};var wax=wax||{};wax.tooltip={};wax.tooltip=function(){var d=false,a=false,o={},h=[],k,c,n;if(document.body.style["-webkit-transition"]!==undefined){c="webkitTransitionEnd"}else{if(document.body.style.MozTransition!==undefined){c="transitionend"}}function j(p){var q=document.createElement("div");q.className="wax-tooltip wax-tooltip-0";q.innerHTML=p;return q}function e(){if(this.parentNode){this.parentNode.removeChild(this)}}function f(){var p;while(p=h.pop()){if(a&&c){bean.add(p,c,e);p.className+=" wax-fade"}else{if(p.parentNode){p.parentNode.removeChild(p)}}}}function g(t){var r;if(t.e.type==="mousemove"||!t.e.type){if(!d){r=t.content||t.formatter({format:"teaser"},t.data);if(!r||r==k){return}f();n.style.cursor="pointer";h.push(n.appendChild(j(r)));k=r}}else{r=t.content||t.formatter({format:"full"},t.data);if(!r){if(t.e.type&&t.e.type.match(/touch/)){r=t.content||t.formatter({format:"teaser"},t.data)}if(!r){return}}f();n.style.cursor="pointer";var p=n.appendChild(j(r));p.className+=" wax-popup";var s=p.appendChild(document.createElement("a"));s.href="#close";s.className="close";s.innerHTML="Close";d=true;h.push(p);bean.add(s,"click touchend",function q(u){u.stop();f();d=false})}}function b(){n.style.cursor="default";k=null;if(!d){f()}}o.parent=function(p){if(!arguments.length){return n}n=p;return o};o.animate=function(p){if(!arguments.length){return a}a=p;return o};o.events=function(){return{on:g,off:b}};return o};var wax=wax||{};wax.u={offset:function(b){var a=b.offsetWidth||parseInt(b.style.width,10),j=b.offsetHeight||parseInt(b.style.height,10),h=document.body,g=0,c=0;var k=function(n){if(n===h||n===document.documentElement){return}g+=n.offsetTop;c+=n.offsetLeft;var e=n.style.transform||n.style.WebkitTransform||n.style.OTransform||n.style.MozTransform||n.style.msTransform;if(e){if(match=e.match(/translate\((.+)px, (.+)px\)/)){g+=parseInt(match[2],10);c+=parseInt(match[1],10)}else{if(match=e.match(/translate3d\((.+)px, (.+)px, (.+)px\)/)){g+=parseInt(match[2],10);c+=parseInt(match[1],10)}else{if(match=e.match(/matrix3d\(([\-\d,\s]+)\)/)){var o=match[1].split(",");g+=parseInt(o[13],10);c+=parseInt(o[12],10)}else{if(match=e.match(/matrix\(.+, .+, .+, .+, (.+), (.+)\)/)){g+=parseInt(match[2],10);c+=parseInt(match[1],10)}}}}}};k(b);try{while(b=b.offsetParent){k(b)}}catch(f){}g+=h.offsetTop;c+=h.offsetLeft;g+=h.parentNode.offsetTop;c+=h.parentNode.offsetLeft;var d=document.defaultView?window.getComputedStyle(h.parentNode,null):h.parentNode.currentStyle;if(h.parentNode.offsetTop!==parseInt(d.marginTop,10)&&!isNaN(parseInt(d.marginTop,10))){g+=parseInt(d.marginTop,10);c+=parseInt(d.marginLeft,10)}return{top:g,left:c,height:j,width:a}},"$":function(a){return(typeof a==="string")?document.getElementById(a):a},indexOf:function(e,d){var a=Array.prototype.indexOf;if(e===null){return -1}var c,b;if(a&&e.indexOf===a){return e.indexOf(d)}for(c=0,b=e.length;c<b;c++){if(e[c]===d){return c}}return -1},eventoffset:function(h){var b=0;var j=0;if(!h){h=window.event}if(h.pageX||h.pageY){return{x:h.pageX,y:h.pageY}}else{if(h.clientX||h.clientY){var g=document.documentElement,a=document.body;var d=document.body.parentNode.currentStyle;var c=parseInt(d.marginTop,10)||0;var f=parseInt(d.marginLeft,10)||0;return{x:h.clientX+(g&&g.scrollLeft||a&&a.scrollLeft||0)-(g&&g.clientLeft||a&&a.clientLeft||0)+f,y:h.clientY+(g&&g.scrollTop||a&&a.scrollTop||0)-(g&&g.clientTop||a&&a.clientTop||0)+c}}else{if(h.touches&&h.touches.length===1){return{x:h.touches[0].pageX,y:h.touches[0].pageY}}}}},limit:function(b,d,a){var c;return function(){var f=this,e=arguments;var g=function(){c=null;b.apply(f,e)};if(a){clearTimeout(c)}if(a||!c){c=setTimeout(g,d)}}},throttle:function(a,b){return this.limit(a,b,false)}};wax=wax||{};wax.g=wax.g||{};wax.g.attribution=function(d,e){e=e||{};var c,b={};b.element=function(){return c.element()};b.appendTo=function(a){wax.u.$(a).appendChild(c.element());return this};b.init=function(){c=wax.attribution();c.content(e.attribution);c.element().className="wax-attribution wax-g";return this};return b.init()};wax=wax||{};wax.g=wax.g||{};wax.g.bwdetect=function(d,b){b=b||{};var a=b.png||".png128",f=b.jpg||".jpg70";if(!d.mapTypes["mb-low"]){var e=d.mapTypes.mb;var g={tiles:[],scheme:e.options.scheme,blankImage:e.options.blankImage,minzoom:e.minZoom,maxzoom:e.maxZoom,name:e.name,description:e.description};for(var c=0;c<e.options.tiles.length;c++){g.tiles.push(e.options.tiles[c].replace(".png",a).replace(".jpg",f))}m.mapTypes.set("mb-low",new wax.g.connector(g))}return wax.bwdetect(b,function(h){d.setMapTypeId(h?"mb":"mb-low")})};wax=wax||{};wax.g=wax.g||{};wax.g.hash=function(b){return wax.hash({getCenterZoom:function(){var c=b.getCenter(),e=b.getZoom(),d=Math.max(0,Math.ceil(Math.log(e)/Math.LN2));return[e.toFixed(2),c.lat().toFixed(d),c.lng().toFixed(d)].join("/")},setCenterZoom:function a(c){b.setCenter(new google.maps.LatLng(c[1],c[2]));b.setZoom(c[0])},bindChange:function(c){google.maps.event.addListener(b,"idle",c)},unbindChange:function(c){google.maps.event.removeListener(b,"idle",c)}})};wax=wax||{};wax.g=wax.g||{};wax.g.interaction=function(){var e=false,c,g;function a(){e=true}function d(){if(!e&&c){return c}else{c=[];var n=g.getZoom();var k=wax.u.offset(g.getDiv());var h=function(q){if(!q.interactive){return}for(var p in q.cache){if(p.split("/")[0]!=n){continue}var o=wax.u.offset(q.cache[p]);c.push([o.top,o.left,q.cache[p]])}};for(var j in g.mapTypes){h(g.mapTypes[j])}g.overlayMapTypes.forEach(h)}return c}function b(h){if(!arguments.length){return g}g=h;google.maps.event.addListener(g,"tileloaded",a);google.maps.event.addListener(g,"idle",a)}function f(h){google.maps.event.removeListener(g,"tileloaded",a);google.maps.event.removeListener(g,"idle",a)}return wax.interaction().attach(b).detach(f).parent(function(){return g.getDiv()}).grid(d)};wax=wax||{};wax.g=wax.g||{};wax.g.legend=function(c,d){d=d||{};var a,b={};b.add=function(){a=wax.legend().content(d.legend||"");return this};b.element=function(){return a.element()};b.appendTo=function(e){wax.u.$(e).appendChild(a.element());return this};return b.add()};var wax=wax||{};wax.g=wax.g||{};wax.g.connector=function(a){a=a||{};this.options={tiles:a.tiles,scheme:a.scheme||"xyz",blankImage:a.blankImage||"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",opacity:a.opacity};this.minZoom=a.minzoom||0;this.maxZoom=a.maxzoom||22;this.name=a.name||"";this.description=a.description||"";this.interactive=true;this.tileSize=new google.maps.Size(256,256);this.cache={}};wax.g.connector.prototype.getTile=function(e,d,b){var c=d+"/"+e.x+"/"+e.y;if(!this.cache[c]){var a=this.cache[c]=new Image(256,256);this.cache[c].src=this.getTileUrl(e,d);this.cache[c].setAttribute("gTileKey",c);this.cache[c].setAttribute("style","opacity:"+this.options.opacity+"; filter: alpha(opacity="+(this.options.opacity*100)+")");this.cache[c].onerror=function(){a.style.display="none"}}return this.cache[c]};wax.g.connector.prototype.releaseTile=function(b){var a=b.getAttribute("gTileKey");if(this.cache[a]){delete this.cache[a]}if(b.parentNode){b.parentNode.removeChild(b)}};wax.g.connector.prototype.getTileUrl=function(e,c){var b=Math.pow(2,c),d=(this.options.scheme==="tms")?(b-1)-e.y:e.y,a=(e.x%b);a=(a<0)?(e.x%b)+b:a;if(d<0){return this.options.blankImage}return this.options.tiles[parseInt(a+d,10)%this.options.tiles.length].replace("{z}",c).replace("{x}",a).replace("{y}",d)};