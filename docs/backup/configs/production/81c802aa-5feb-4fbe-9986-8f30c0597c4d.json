{"id": "81c802aa-5feb-4fbe-9986-8f30c0597c4d", "type": "dataset", "attributes": {"name": "Tree biomass density", "slug": "Aboveground-Live-Woody-Biomass-Density", "type": "raster", "subtitle": null, "application": ["gfw"], "dataPath": null, "attributesPath": null, "connectorType": "wms", "provider": "wms", "userId": "59db4eace9c1380001d6e4c3", "connectorUrl": "https://storage.googleapis.com/earthenginepartners-wri/whrc-hansen-carbon-{threshold}-{z}{/x}{/y}.png", "tableName": null, "status": "saved", "published": true, "overwrite": false, "verified": false, "blockchain": {}, "mainDateField": null, "env": "production", "geoInfo": false, "protected": true, "legend": {"date": [], "region": [], "country": [], "nested": []}, "clonedHost": {}, "errorMessage": null, "taskId": null, "updatedAt": "2019-06-11T20:27:17.600Z", "dataLastUpdated": null, "widgetRelevantProps": [], "layerRelevantProps": [], "layer": [{"id": "f10bded4-94e2-40b6-8602-ae5bdfc07c08", "type": "layer", "attributes": {"name": "Tree biomass density", "slug": "Aboveground-Live-Woody-Biomass-Density", "dataset": "81c802aa-5feb-4fbe-9986-8f30c0597c4d", "description": "Shows carbon density values of aboveground live woody biomass across the tropics.", "application": ["gfw"], "iso": [], "provider": "leaflet", "userId": "59db4eace9c1380001d6e4c3", "default": false, "protected": true, "published": true, "env": "production", "layerConfig": {"body": {"maxzoom": 12, "metadata": "aboveground_biomass", "minzoom": 2, "options": {}, "url": "https://storage.googleapis.com/wri-public/biomass/global/2017/v2/{threshold}/{z}/{x}/{y}.png"}, "decode_config": [], "params_config": [{"default": 12, "key": "dataMaxZoom", "required": true}, {"default": 30, "key": "threshold", "required": true}], "service": "leaflet", "type": "tileLayer"}, "legendConfig": {"items": [{"color": "#895122", "value": "0"}, {"color": "#957F4F", "name": ""}, {"color": "#9DB38A", "name": ""}, {"color": "#39A401", "value": "480 t Ha\u207b\u00b9"}], "type": "gradient"}, "interactionConfig": {}, "applicationConfig": {"active": true, "analysisConfig": [{"keys": [{"key": "totalBiomass", "title": "Total biomass", "unit": "t"}, {"key": "biomassDensity", "title": "Biomass density", "unit": "t Ha\u207b\u00b9"}], "service": "whrc-biomass", "type": "geostore", "version": "v1"}, {"keys": [{"key": "totalBiomass", "title": "Total biomass", "unit": "t"}, {"key": "biomassDensity", "title": "Biomass density", "unit": "t Ha\u207b\u00b9"}], "service": "whrc-biomass", "type": "admin", "version": "v1"}], "default": true, "global": true, "metadata": "aboveground_biomass"}, "staticImageConfig": {}, "updatedAt": "2019-06-11T20:27:26.618Z"}}], "metadata": [{"id": "5b64554ec31667001159baff", "type": "metadata", "attributes": {"dataset": "81c802aa-5feb-4fbe-9986-8f30c0597c4d", "application": "gfw", "resource": {"id": "81c802aa-5feb-4fbe-9986-8f30c0597c4d", "type": "dataset"}, "language": "en", "info": {"citation": "30m, global, Zarin/WHRC", "color": "#91582D", "description": "Shows carbon density values of aboveground live woody biomass globally.", "name": "Tree biomass density "}, "createdAt": "2018-08-03T13:14:54.467Z", "updatedAt": "2019-06-11T20:26:59.925Z", "status": "published"}}], "vocabulary": [{"id": "81c802aa-5feb-4fbe-9986-8f30c0597c4d", "type": "vocabulary", "attributes": {"resource": {"id": "81c802aa-5feb-4fbe-9986-8f30c0597c4d", "type": "dataset"}, "tags": ["climate", "carbonDensity"], "name": "categoryTab", "application": "gfw"}}], "widget": [{"id": null, "type": "widget", "attributes": {"id": "76961fd0-8781-44f7-a99a-78efece3204c", "type": "widget", "attributes": {"name": "GCE Tree Cover Loss Widget", "dataset": "81c802aa-5feb-4fbe-9986-8f30c0597c4d", "slug": "GCE-Tree-Cover-Loss-Widget", "userId": "5b3a57251b3a8854b6338faa", "description": "Widget used in mapbuilder to present GCE and Tree Cover Loss by year. In order to use this widget the application must add a tree cover density threshold, period for anlaysis, and geostore ID through the analysis url.", "application": ["forest-atlas"], "verified": false, "default": false, "protected": false, "defaultEditableWidget": false, "published": true, "freeze": false, "env": "production", "widgetConfig": {"legends": [{"offset": 35, "direction": "vertical", "columnPadding": 45, "columns": 2, "orient": "bottom", "fill": "color"}], "marks": [{"encode": {"enter": {"tooltip": {"signal": "{title: datum.year, 'TCL': format(datum.TreeLoss,' ,.0f') + ' ha', 'GCE': format(datum.CO2Loss,' ,.0f') + ' t CO2'}"}, "fill": {"value": "#BEBCC2"}, "y2": {"value": 0, "scale": "y"}, "y": {"field": "TreeLoss", "scale": "y"}, "width": {"band": 1, "scale": "x"}, "xc": {"field": "year", "scale": "x"}}}, "from": {"data": "table_viz"}, "type": "rect"}, {"encode": {"enter": {"strokeOpacity": {"value": 0.9}, "interpolate": {"value": "monotone"}, "width": {"band": 1, "scale": "x"}, "strokeWidth": {"value": 1.8}, "stroke": {"value": "#DC6699"}, "y": {"field": "CO2Loss", "scale": "y2"}, "x": {"field": "year", "scale": "x"}}}, "from": {"data": "table_viz"}, "type": "line"}, {"encode": {"enter": {"tooltip": {"signal": "{title: datum.year, 'TCL': format(datum.TreeLoss,' ,.0f') + ' ha', 'GCE': format(datum.CO2Loss,' ,.0f') + ' t CO2'}"}, "size": {"value": 20}, "fill": {"value": "#DC6699"}, "stroke": {"value": "#DC6699"}, "y": {"field": "CO2Loss", "scale": "y2"}, "width": {"band": 1, "scale": "x"}, "x": {"field": "year", "scale": "x"}}}, "from": {"data": "table_viz"}, "type": "symbol"}], "axes": [{"bandPosition": 0, "labelBaseline": "bottom", "labelBound": true, "labelFlushOffset": 15, "labelAlign": "right", "labelAngle": -90, "scale": "x", "orient": "bottom"}, {"bandPosition": 0, "labelBaseline": "bottom", "labelBound": true, "labelFlushOffset": 15, "labelAlign": "right", "labelAngle": -90, "scale": "x", "orient": "bottom"}, {"tickCount": 5, "scale": "y", "orient": "left", "title": "Tree Cover Loss (ha)"}, {"format": ",.1s", "tickCount": 5, "scale": "y2", "orient": "right", "title": "Gross carbon emissions (MT Co2)"}], "scales": [{"align": 1, "padding": 0.3, "domain": {"field": "year", "data": "table_viz"}, "range": "width", "type": "band", "name": "x"}, {"domain": {"field": "TreeLoss", "data": "table_viz"}, "zero": true, "nice": true, "range": "height", "type": "linear", "name": "y"}, {"domain": {"field": "CO2Loss", "data": "table_viz"}, "zero": true, "nice": true, "range": "height", "type": "linear", "name": "y2"}, {"range": {"field": "hex", "data": "colors"}, "domain": {"field": "text", "data": "colors"}, "type": "ordinal", "name": "color"}], "signals": [{"on": [{"update": "datum", "events": "rect:mouseover"}, {"update": "{}", "events": "rect:mouseout"}], "name": "tooltip"}], "data": [{"url": "https://api.resourcewatch.org/v1/biomass-loss?", "format": {"property": "data.attributes"}, "name": "data"}, {"transform": [{"expr": "data('data')[0]['co2LossByYear']['2001']", "as": "2001", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2002']", "as": "2002", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2003']", "as": "2003", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2004']", "as": "2004", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2005']", "as": "2005", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2006']", "as": "2006", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2007']", "as": "2007", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2008']", "as": "2008", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2009']", "as": "2009", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2010']", "as": "2010", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2011']", "as": "2011", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2012']", "as": "2012", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2013']", "as": "2013", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2014']", "as": "2014", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2015']", "as": "2015", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2016']", "as": "2016", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2017']", "as": "2017", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2018']", "as": "2018", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2019']", "as": "2019", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2020']", "as": "2020", "type": "formula"}, {"expr": "data('data')[0]['co2LossByYear']['2021']", "as": "2021", "type": "formula"}, {"fields": ["2001", "2002", "2003", "2004", "2005", "2006", "2007", "2008", "2009", "2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020", "2021"], "type": "fold"}, {"as": ["year", "CO2Loss"], "fields": ["key", "value"], "type": "project"}, {"expr": "isNumber(datum.CO2Loss)", "type": "filter"}], "values": [{"type": "CO2 Loss By Year"}], "name": "CO2_Losstable"}, {"transform": [{"expr": "data('data')[0]['treeLossByYear']['2001']", "as": "2001", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2002']", "as": "2002", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2003']", "as": "2003", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2004']", "as": "2004", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2005']", "as": "2005", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2006']", "as": "2006", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2007']", "as": "2007", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2008']", "as": "2008", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2009']", "as": "2009", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2010']", "as": "2010", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2011']", "as": "2011", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2012']", "as": "2012", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2013']", "as": "2013", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2014']", "as": "2014", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2015']", "as": "2015", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2016']", "as": "2016", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2017']", "as": "2017", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2018']", "as": "2018", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2019']", "as": "2019", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2020']", "as": "2020", "type": "formula"}, {"expr": "data('data')[0]['treeLossByYear']['2021']", "as": "2021", "type": "formula"}, {"fields": ["2001", "2002", "2003", "2004", "2005", "2006", "2007", "2008", "2009", "2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020", "2021"], "type": "fold"}, {"as": ["year", "TreeLoss"], "fields": ["key", "value"], "type": "project"}, {"expr": "isNumber(datum.TreeLoss)", "type": "filter"}, {"key": "year", "values": ["CO2Loss"], "fields": ["year"], "from": "CO2_Losstable", "type": "lookup"}, {"as": "CO2Loss", "expr": "round(datum.CO2Loss)", "type": "formula"}, {"as": "TreeLoss", "expr": "round(datum.TreeLoss)", "type": "formula"}], "values": [{"type": "Tree Loss By Year"}], "name": "table_viz"}, {"values": [{"hex": "#FF6699", "text": "Tree Cover Loss"}, {"hex": "#BEBCC2", "text": "CO2 Loss"}], "name": "colors"}], "padding": 5, "width": 160, "height": 250, "schema": "https://vega.github.io/schema/vega/v4.json"}, "template": false, "createdAt": "2018-11-05T21:11:51.306Z", "updatedAt": "2018-11-05T21:11:51.306Z"}}}, {"id": null, "type": "widget", "attributes": {"id": "0671590b-213b-481a-a878-786acc0fb9c3", "type": "widget", "attributes": {"name": "Biomass Loss Widget V2", "dataset": "81c802aa-5feb-4fbe-9986-8f30c0597c4d", "slug": "Biomass-Loss-Widget-V2", "userId": "5b3a57251b3a8854b6338faa", "description": "Used to display annual gross carbon emissions data in mapbuilder. In order to use this widget the application must add a tree cover density threshold, period for anlaysis, and geostore ID through the analysis url.", "application": ["forest-atlas"], "verified": false, "default": false, "protected": false, "defaultEditableWidget": false, "published": true, "freeze": false, "env": "production", "widgetConfig": {"marks": [{"encode": {"enter": {"tooltip": {"signal": "'GCE: '+format(datum.co2LossByYear,',.0f') + ' t CO2 in ' + datum.year"}, "fill": {"value": "#b3b3ff"}, "y2": {"value": 0, "scale": "y"}, "y": {"field": "co2LossByYear", "scale": "y"}, "width": {"band": 1, "scale": "x"}, "xc": {"field": "year", "scale": "x"}}}, "from": {"data": "table"}, "type": "rect"}], "axes": [{"bandPosition": 0, "labelBaseline": "bottom", "labelBound": true, "labelFlushOffset": 15, "labelAlign": "right", "labelAngle": -90, "scale": "x", "orient": "bottom"}, {"bandPosition": 0, "labelBaseline": "bottom", "labelBound": true, "labelFlushOffset": 15, "labelAlign": "right", "labelAngle": -90, "scale": "x", "orient": "bottom", "title": "Year"}, {"format": ",.0f", "tickCount": 5, "scale": "y", "orient": "left", "title": "Gross carbon emissions (t CO2)"}], "scales": [{"align": 1, "padding": 0.3, "domain": {"field": "year", "data": "table"}, "range": "width", "type": "band", "name": "x"}, {"domain": {"field": "co2LossByYear", "data": "table"}, "zero": true, "nice": true, "range": "height", "type": "linear", "name": "y"}], "data": [{"url": "https://api.resourcewatch.org/v2/biomass-loss?table=true", "format": {"property": "data.attributes"}, "name": "table"}], "padding": 5, "width": 185, "height": 250, "schema": "https://vega.github.io/schema/vega/v4.json"}, "template": false, "createdAt": "2018-12-06T02:49:47.669Z", "updatedAt": "2018-12-06T02:49:47.669Z"}}}]}}
